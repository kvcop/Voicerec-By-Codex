# Защита соединения с GPU-нодой

Сервис взаимодействует с вычислительным узлом по gRPC. Передача аудио и получение результатов должны быть защищены. Возможны два варианта подключения:

1. **VPN** – весь трафик направляется через безопасный туннель. В этом случае gRPC работает без дополнительного шифрования. Достаточно указать `GPU_GRPC_HOST` и `GPU_GRPC_PORT`.
2. **mTLS** – используется взаимная TLS-аутентификация. Помимо адреса узла необходимо передать пути к сертификатам и ключу.

## Переменные окружения

Для настройки соединения используйте переменные из секции `GPUSettings`
в `.env`:

- `GPU_GRPC_HOST` – адрес GPU-ноды;
- `GPU_GRPC_PORT` – порт сервиса gRPC;
- `GPU_GRPC_USE_TLS` – включить TLS (true/false);
- `GPU_GRPC_TLS_CA` – путь к CA-сертификату сервера;
- `GPU_GRPC_TLS_CERT` – путь к клиентскому сертификату для mTLS;
- `GPU_GRPC_TLS_KEY` – путь к приватному ключу клиента.

Если `GPU_GRPC_USE_TLS` установлено в `true`, все три значения с сертификатами
обязательны. При использовании VPN переменные TLS можно не заполнять. Подробнее
смотрите файл `.env.example`.
